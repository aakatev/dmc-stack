<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <link rel="stylesheet" href="styles/contacts.css">
  </head>
  <body>
    <form">
      First name:
      <br>
      <input type="text" id="first">
      <br>
      Last name:
      <br>
      <input type="text" id="last">
      <br>
      email:
      <br>
      <input type="text" id="email">
      <br>
      phone:<br>
      <input type="text" id="cell">
      <br><br>
      <button onclick="sendPost();">Post</button>
    </form>
    <a href="/contacts">back</a> 
  </body>
    <script>
      sendPost = () => {
        // Sending json data using POST method
        var xhr = new XMLHttpRequest();
        var url = "http://localhost:8080/add_json";
        xhr.open("POST", url, true);

        var data = JSON.stringify({"firstName":  document.getElementById("first").value, "lastName": document.getElementById("last").value, "email": document.getElementById("email").value, "phone": document.getElementById("cell").value});

        xhr.send(data); 
        
        // Hacky way to handle async request 
        setTimeout(function () {
          window.location.href = "/contacts";  
        }, 1500);    
      } 
    </script>
</html>